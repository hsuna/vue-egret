<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | VueEgret</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vue-egret/img/logo.png">
    <meta name="description" content="关于Egret引擎的Vue框架">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/vue-egret/assets/css/0.styles.64fab194.css" as="style"><link rel="preload" href="/vue-egret/assets/js/app.755a3615.js" as="script"><link rel="preload" href="/vue-egret/assets/js/2.3e60407d.js" as="script"><link rel="preload" href="/vue-egret/assets/js/11.87e61404.js" as="script"><link rel="prefetch" href="/vue-egret/assets/js/10.7e8e087b.js"><link rel="prefetch" href="/vue-egret/assets/js/12.c31f841e.js"><link rel="prefetch" href="/vue-egret/assets/js/13.297ab1d3.js"><link rel="prefetch" href="/vue-egret/assets/js/14.5d696b64.js"><link rel="prefetch" href="/vue-egret/assets/js/15.173fa4e5.js"><link rel="prefetch" href="/vue-egret/assets/js/16.6cc2812b.js"><link rel="prefetch" href="/vue-egret/assets/js/17.c87faec8.js"><link rel="prefetch" href="/vue-egret/assets/js/18.05c77e47.js"><link rel="prefetch" href="/vue-egret/assets/js/19.49ca7c8a.js"><link rel="prefetch" href="/vue-egret/assets/js/20.4a2fab6c.js"><link rel="prefetch" href="/vue-egret/assets/js/21.6fd54b70.js"><link rel="prefetch" href="/vue-egret/assets/js/22.6fe1b3aa.js"><link rel="prefetch" href="/vue-egret/assets/js/23.1efae409.js"><link rel="prefetch" href="/vue-egret/assets/js/24.f3059444.js"><link rel="prefetch" href="/vue-egret/assets/js/25.f51128a4.js"><link rel="prefetch" href="/vue-egret/assets/js/26.e8640947.js"><link rel="prefetch" href="/vue-egret/assets/js/27.f4ff9d97.js"><link rel="prefetch" href="/vue-egret/assets/js/28.1997647d.js"><link rel="prefetch" href="/vue-egret/assets/js/29.1b0c57c5.js"><link rel="prefetch" href="/vue-egret/assets/js/3.25b64678.js"><link rel="prefetch" href="/vue-egret/assets/js/30.207f5d72.js"><link rel="prefetch" href="/vue-egret/assets/js/31.8aff8fac.js"><link rel="prefetch" href="/vue-egret/assets/js/32.231642b0.js"><link rel="prefetch" href="/vue-egret/assets/js/33.a2c3f23b.js"><link rel="prefetch" href="/vue-egret/assets/js/34.c9176f86.js"><link rel="prefetch" href="/vue-egret/assets/js/35.59c8f0ff.js"><link rel="prefetch" href="/vue-egret/assets/js/36.2e1f0f93.js"><link rel="prefetch" href="/vue-egret/assets/js/37.d8a94df3.js"><link rel="prefetch" href="/vue-egret/assets/js/38.850fc82b.js"><link rel="prefetch" href="/vue-egret/assets/js/39.88862bb0.js"><link rel="prefetch" href="/vue-egret/assets/js/4.af9bb4af.js"><link rel="prefetch" href="/vue-egret/assets/js/40.485eb551.js"><link rel="prefetch" href="/vue-egret/assets/js/41.1db4c50f.js"><link rel="prefetch" href="/vue-egret/assets/js/42.af15cb71.js"><link rel="prefetch" href="/vue-egret/assets/js/43.281eb95c.js"><link rel="prefetch" href="/vue-egret/assets/js/44.55f3aedd.js"><link rel="prefetch" href="/vue-egret/assets/js/45.04c97d66.js"><link rel="prefetch" href="/vue-egret/assets/js/46.883c587a.js"><link rel="prefetch" href="/vue-egret/assets/js/47.b20b8c3c.js"><link rel="prefetch" href="/vue-egret/assets/js/48.a8c0d5d8.js"><link rel="prefetch" href="/vue-egret/assets/js/49.57da5957.js"><link rel="prefetch" href="/vue-egret/assets/js/5.241d27b5.js"><link rel="prefetch" href="/vue-egret/assets/js/50.a8fc41df.js"><link rel="prefetch" href="/vue-egret/assets/js/51.ae343139.js"><link rel="prefetch" href="/vue-egret/assets/js/52.73f5441c.js"><link rel="prefetch" href="/vue-egret/assets/js/53.07b397bc.js"><link rel="prefetch" href="/vue-egret/assets/js/54.e37c75e5.js"><link rel="prefetch" href="/vue-egret/assets/js/55.310ad337.js"><link rel="prefetch" href="/vue-egret/assets/js/56.4fe57637.js"><link rel="prefetch" href="/vue-egret/assets/js/57.cc0b6edd.js"><link rel="prefetch" href="/vue-egret/assets/js/58.974e6f27.js"><link rel="prefetch" href="/vue-egret/assets/js/59.7d8f6b87.js"><link rel="prefetch" href="/vue-egret/assets/js/6.1d2425d4.js"><link rel="prefetch" href="/vue-egret/assets/js/60.85891992.js"><link rel="prefetch" href="/vue-egret/assets/js/61.3b527d93.js"><link rel="prefetch" href="/vue-egret/assets/js/62.01f70378.js"><link rel="prefetch" href="/vue-egret/assets/js/63.dadf13ad.js"><link rel="prefetch" href="/vue-egret/assets/js/64.bda7a280.js"><link rel="prefetch" href="/vue-egret/assets/js/65.3f2c1fe0.js"><link rel="prefetch" href="/vue-egret/assets/js/66.61880e34.js"><link rel="prefetch" href="/vue-egret/assets/js/67.439e2519.js"><link rel="prefetch" href="/vue-egret/assets/js/68.8df09d58.js"><link rel="prefetch" href="/vue-egret/assets/js/69.456ef88b.js"><link rel="prefetch" href="/vue-egret/assets/js/7.f0cd822a.js"><link rel="prefetch" href="/vue-egret/assets/js/70.3764eded.js"><link rel="prefetch" href="/vue-egret/assets/js/71.26ed8926.js"><link rel="prefetch" href="/vue-egret/assets/js/72.fb1c3f07.js"><link rel="prefetch" href="/vue-egret/assets/js/73.04f6521e.js"><link rel="prefetch" href="/vue-egret/assets/js/74.44e4b01d.js"><link rel="prefetch" href="/vue-egret/assets/js/75.afa957fd.js"><link rel="prefetch" href="/vue-egret/assets/js/76.bb9d1336.js"><link rel="prefetch" href="/vue-egret/assets/js/77.91f585a5.js"><link rel="prefetch" href="/vue-egret/assets/js/78.71707ddc.js"><link rel="prefetch" href="/vue-egret/assets/js/8.e5708796.js"><link rel="prefetch" href="/vue-egret/assets/js/9.61c4df25.js">
    <link rel="stylesheet" href="/vue-egret/assets/css/0.styles.64fab194.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-egret/" class="home-link router-link-active"><!----> <span class="site-name">VueEgret</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-egret/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/vue-egret/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/vue-egret/example/" class="nav-link">
  示例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/hsuna/vue-egret-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-egret-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/vuejs/vuepress/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/hsuna/vue-egret" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/hsuna/vue-egret" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-egret/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/vue-egret/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/vue-egret/example/" class="nav-link">
  示例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/hsuna/vue-egret-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-egret-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/vuejs/vuepress/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/hsuna/vue-egret" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/hsuna/vue-egret" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-egret/api/#全局-api" class="sidebar-link">全局 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret" class="sidebar-link">VueEgret</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-classmain" class="sidebar-link">VueEgret.classMain</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-extend" class="sidebar-link">VueEgret.extend</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-nexttick" class="sidebar-link">VueEgret.nextTick</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-set" class="sidebar-link">VueEgret.set</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-delete" class="sidebar-link">VueEgret.delete</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-component" class="sidebar-link">VueEgret.component</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-directive" class="sidebar-link">VueEgret.directive</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vueegret-version" class="sidebar-link">VueEgret.version</a></li></ul></li><li><a href="/vue-egret/api/#选项-数据" class="sidebar-link">选项 / 数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#data" class="sidebar-link">data</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#methods" class="sidebar-link">methods</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#watch" class="sidebar-link">watch</a></li></ul></li><li><a href="/vue-egret/api/#选项-渲染" class="sidebar-link">选项 / 渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#template" class="sidebar-link">template</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#render" class="sidebar-link">render</a></li></ul></li><li><a href="/vue-egret/api/#选项-生命周期钩子" class="sidebar-link">选项 / 生命周期钩子</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#beforecreate" class="sidebar-link">beforeCreate</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#created" class="sidebar-link">created</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#beforemounted" class="sidebar-link">beforeMounted</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#mounted" class="sidebar-link">mounted</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#beforeupdate" class="sidebar-link">beforeUpdate</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#update" class="sidebar-link">update</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#beforedestroy" class="sidebar-link">beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#destroyed" class="sidebar-link">destroyed</a></li></ul></li><li><a href="/vue-egret/api/#选项-资源" class="sidebar-link">选项 / 资源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#components" class="sidebar-link">components</a></li></ul></li><li><a href="/vue-egret/api/#实例-property" class="sidebar-link">实例 property</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-data" class="sidebar-link">vm.$data</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-props" class="sidebar-link">vm.$props</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-el" class="sidebar-link">vm.$el</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-options" class="sidebar-link">vm.$options</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-parent" class="sidebar-link">vm.$parent</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-root" class="sidebar-link">vm.$root</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-children" class="sidebar-link">vm.$children</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-refs" class="sidebar-link">vm.$refs</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-attrs" class="sidebar-link">vm.$attrs</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-listeners" class="sidebar-link">vm.$listeners</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-stage" class="sidebar-link">vm.$stage</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-stagewidth" class="sidebar-link">vm.$stageWidth</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-stageheight" class="sidebar-link">vm.$stageHeight</a></li></ul></li><li><a href="/vue-egret/api/#实例方法-数据" class="sidebar-link">实例方法 / 数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-watch" class="sidebar-link">vm.$watch</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-set" class="sidebar-link">vm.$set</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-delete" class="sidebar-link">vm.$delete</a></li></ul></li><li><a href="/vue-egret/api/#实例方法-事件" class="sidebar-link">实例方法 / 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-on" class="sidebar-link">vm.$on</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-once" class="sidebar-link">vm.$once</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-off" class="sidebar-link">vm.$off</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-emit" class="sidebar-link">vm.$emit</a></li></ul></li><li><a href="/vue-egret/api/#实例方法-生命周期" class="sidebar-link">实例方法 / 生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-mount" class="sidebar-link">vm.$mount</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-forceupdate" class="sidebar-link">vm.$forceUpdate</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-nexttick" class="sidebar-link">vm.$nextTick</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-destroy" class="sidebar-link">vm.$destroy()</a></li></ul></li><li><a href="/vue-egret/api/#实例方法-功能" class="sidebar-link">实例方法/功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-tween" class="sidebar-link">vm.$tween</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-displayobject" class="sidebar-link">vm.$displayObject</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-hittest" class="sidebar-link">vm.$hitTest</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-hittestpiont" class="sidebar-link">vm.$hitTestPiont</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-globaltolocal" class="sidebar-link">vm.$globalToLocal</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#vm-localtoglobal" class="sidebar-link">vm.$localToGlobal</a></li></ul></li><li><a href="/vue-egret/api/#指令" class="sidebar-link">指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-if" class="sidebar-link">v-if</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-else" class="sidebar-link">v-else</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-else-if" class="sidebar-link">v-else-if</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-for" class="sidebar-link">v-for</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-bind" class="sidebar-link">v-bind</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#v-on" class="sidebar-link">v-on</a></li></ul></li><li><a href="/vue-egret/api/#特殊-attribute" class="sidebar-link">特殊 attribute</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#key" class="sidebar-link">key</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#ref" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/vue-egret/api/#is" class="sidebar-link">is</a></li></ul></li><li><a href="/vue-egret/api/#内置的组件" class="sidebar-link">内置的组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-egret/api/#component" class="sidebar-link">component</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <h2 id="全局-api"><a href="#全局-api" class="header-anchor">#</a> 全局 API</h2> <p><code>VueEgret</code> 是一个继承 <code>Component</code> 的类，它提供了多个静态属性方便外部使用。</p> <h3 id="vueegret"><a href="#vueegret" class="header-anchor">#</a> VueEgret</h3> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">'Hello Word!!!'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onTextClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Text is Click'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;Sprite touchEnabled=&quot;true&quot; @touchTap=&quot;onTextClick&quot;&gt;
        &lt;TextField textColor=&quot;#00FFFF&quot; x=&quot;11&quot; y=&quot;12&quot;&gt;{{text}}&lt;/TextField&gt;
    &lt;/Sprite&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vueegret-classmain"><a href="#vueegret-classmain" class="header-anchor">#</a> VueEgret.classMain</h3> <p><code>classMain</code> 通过传入 <code>options</code> 返回一个 <code>DisplayObjectContainer</code> 子类，提供给 <code>egret</code> 内部调用。</p> <ul><li><p>参数：</p> <ul><li><code>{ ComponentOptions } options</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ Class&lt;DisplayObjectContainer&gt; }</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Main <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">classMain</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">'Hello Word!!!'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onTextClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Text is Click'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;Sprite touchEnabled=&quot;true&quot; @touchTap=&quot;onTextClick&quot;&gt;
        &lt;TextField textColor=&quot;#00FFFF&quot; x=&quot;11&quot; y=&quot;12&quot;&gt;{{text}}&lt;/TextField&gt;
    &lt;/Sprite&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vueegret-extend"><a href="#vueegret-extend" class="header-anchor">#</a> VueEgret.extend</h3> <p>使用基础 <code>VueEgret</code> 构造器，创建一个“子类”。参数是一个包含组件选项的对象。</p> <ul><li><p>参数：</p> <ul><li><code>{ ComponentOptions|ComponentClass } options</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ ComponentClass }</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建构造器</span>
<span class="token keyword">var</span> Profile <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">'Hello Word!!!'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onTextClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Text is Click'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;Sprite touchEnabled=&quot;true&quot; @touchTap=&quot;onTextClick&quot;&gt;
        &lt;TextField textColor=&quot;#00FFFF&quot; x=&quot;11&quot; y=&quot;12&quot;&gt;{{text}}&lt;/TextField&gt;
    &lt;/Sprite&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建 Profile 实例，并添加到显示对象。</span>
<span class="token keyword">var</span> container <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">egret<span class="token punctuation">.</span>DisplayObjectContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Profile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vueegret-nexttick"><a href="#vueegret-nexttick" class="header-anchor">#</a> VueEgret.nextTick</h3> <p>将回调延迟到下次 <code>Node</code> 更新循环之后执行。在修改数据之后立即使用它，然后等待 <code>Node</code> 更新。</p> <ul><li><p>参数：</p> <ul><li><code>{ Function } callback</code></li></ul></li> <li><p>返回: <code>{ Promise }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>VueEgret<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

VueEgret<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>如果没有提供回调且在支持 Promise 的环境中，则返回一个 Promise。</p></blockquote> <h3 id="vueegret-set"><a href="#vueegret-set" class="header-anchor">#</a> VueEgret.set</h3> <p>向响应式对象中添加一个 property，并确保这个新 property 同样是响应式的，且触发视图更新。它必须用于向响应式对象上添加新 property，因为 <code>VueEgret</code> 无法探测普通的新增 property (比如 <code>this.myObject.newProperty = 'hi'</code>)</p> <ul><li><p>参数：</p> <ul><li><code>{Object | Array} target</code></li> <li><code>{string | number} propertyName/index</code></li> <li><code>{any} value</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ any } value</code> 设置的值</li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>VueEgret<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myObject<span class="token punctuation">,</span> <span class="token string">'newProperty'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>注意对象不能是 <code>VueEgret</code> 实例，或者 <code>VueEgret</code> 实例的根数据对象。</p></blockquote> <h3 id="vueegret-delete"><a href="#vueegret-delete" class="header-anchor">#</a> VueEgret.delete</h3> <p>删除对象的 property。如果对象是响应式的，确保删除能触发更新视图。这个方法主要用于避开 <code>VueEgret</code> 不能检测到 property 被删除的限制，但是你应该很少会使用它。</p> <ul><li><p>参数：</p> <ul><li><code>{Object | Array} target</code></li> <li><code>{string | number} propertyName/index</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>VueEgret<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myObject<span class="token punctuation">,</span> <span class="token string">'oldProperty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>目标对象不能是 <code>VueEgret</code> 实例，或者 <code>VueEgret</code> 实例的根数据对象。</p></blockquote> <h3 id="vueegret-component"><a href="#vueegret-component" class="header-anchor">#</a> VueEgret.component</h3> <p>注册或获取全局组件。注册还会自动使用给定的 <code>name</code> 设置组件的名称</p> <ul><li><p>参数：</p> <ul><li><code>{ String } name</code></li> <li><code>{ ComponentOptions } options</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ ComponentClass }</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 注册组件，传入一个扩展过的构造器</span>
VueEgret<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册组件，传入一个选项对象 (自动调用 VueEgret.extend)</span>
VueEgret<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取注册的组件 (始终返回构造器)</span>
<span class="token keyword">var</span> MyComponent <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vueegret-directive"><a href="#vueegret-directive" class="header-anchor">#</a> VueEgret.directive</h3> <p>注册或获取全局指令。</p> <ul><li><p>参数：</p> <ul><li><code>{ String } name</code></li> <li><code>{ DirectiveOptions | DirectiveHook } definition</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ DirectiveOptions }</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 注册</span>
VueEgret<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'my-directive'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">bind</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">componentUpdated</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">unbind</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册 (指令函数)</span>
VueEgret<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'my-directive'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里将会被 `bind` 和 `update` 调用</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取注册的指令</span>
<span class="token keyword">var</span> MyDirective <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'my-directive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vueegret-version"><a href="#vueegret-version" class="header-anchor">#</a> VueEgret.version</h3> <p>提供字符串形式的 <code>VueEgret</code> 安装版本号，你可以根据不同的版本号采取不同的策略。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> version <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span>version<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="选项-数据"><a href="#选项-数据" class="header-anchor">#</a> 选项 / 数据</h2> <h3 id="data"><a href="#data" class="header-anchor">#</a> data</h3> <ul><li>类型：<code>{ Object | Function }</code></li></ul> <blockquote><p>注：组件的定义只接受 <code>Function</code>。</p></blockquote> <ul><li>说明：</li></ul> <p><code>VueEgret</code> 实例的数据对象。<code>Vue</code> 将会递归将 <code>data</code> 的 <code>property</code> 转换为 <code>getter/setter</code>，从而让 <code>data</code> 的 <code>property</code> 能够响应数据变化。对象必须是纯粹的对象 (含有零个或多个的 <code>key/value</code> 对)，<code>egret API</code> 创建的原生对象，原型上的 <code>property</code> 会被忽略。</p> <p>实例创建之后，可以通过 <code>vm.$data</code> 访问原始数据对象。<code>VueEgret</code> 实例也代理了 <code>data</code> 对象上所有的 <code>property</code>，因此访问 <code>vm.a</code> 等价于访问 <code>vm.$data.a</code>。</p> <p>当一个组件被定义，<code>data</code> 必须声明为返回一个初始数据对象的函数，因为组件可能被用来创建多个实例。如果 data 仍然是一个纯粹的对象，则所有的实例将共享引用同一个数据对象！通过提供 <code>data</code> 函数，每次创建一个新实例后，我们能够调用 <code>data</code> 函数，从而返回初始数据的一个全新副本数据对象。</p> <p>如果需要，可以通过将 <code>vm.$data</code> 传入 <code>JSON.parse(JSON.stringify(...))</code> 得到深拷贝的原始数据对象。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>
vm<span class="token punctuation">.</span>$data<span class="token punctuation">.</span>a <span class="token operator">===</span> data<span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>

<span class="token comment">// VueEgret.extend()或VueEgret.component() 中 data 必须是函数</span>
<span class="token keyword">var</span> Component <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="props"><a href="#props" class="header-anchor">#</a> props</h3> <ul><li><p>类型：<code>{ Array&lt;string&gt; | Object }</code></p></li> <li><p>说明：</p></li></ul> <p><code>props</code> 可以是数组或对象，用于接收来自父组件的数据。<code>props</code> 可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如设置默认值。</p> <p>你可以基于对象的语法使用以下选项：</p> <p><strong>type：</strong> 可以是下列原生构造函数中的一种：<code>String、Number、Boolean、Array、Object、Date、Function、Symbol</code>、任何自定义构造函数、或上述内容组成的数组。会检查一个 <code>prop</code> 是否是给定的类型，否则抛出警告。<code>Prop</code> 类型的更多信息在此。</p> <p><strong>default：</strong> 为该 <code>prop</code> 指定一个默认值。如果该 <code>prop</code> 没有被传入，则换做用这个值。对象或数组的默认值必须从一个工厂函数返回。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 简单语法</span>
VueEgret<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 对象语法，提供默认值</span>
VueEgret<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 检测类型</span>
    height<span class="token operator">:</span> Number<span class="token punctuation">,</span>
    <span class="token comment">// 检测类型 + 默认值</span>
    age<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="computed"><a href="#computed" class="header-anchor">#</a> computed</h3> <ul><li><p>类型：<code>{ string: Function | { get: Function, set: Function } }</code></p></li> <li><p>说明：</p></li></ul> <p>计算属性将被混入到 <code>VueEgret</code> 实例中。所有 getter 和 setter 的 this 上下文自动地绑定为 <code>VueEgret</code> 实例。计算属性的结果会被缓存，除非依赖的响应式 <code>property</code> 变化才会重新计算。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sum</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plus<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> v <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span>plus<span class="token punctuation">;</span> <span class="token comment">// =&gt; 2</span>
vm<span class="token punctuation">.</span>plus <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// =&gt; 2</span>
vm<span class="token punctuation">.</span>sum<span class="token punctuation">;</span> <span class="token comment">// =&gt; 4</span>
</code></pre></div><h3 id="methods"><a href="#methods" class="header-anchor">#</a> methods</h3> <ul><li><p>类型：<code>{ [key: string]: Function }</code></p></li> <li><p>说明：</p></li></ul> <p><code>methods</code> 将被混入到 <code>VueEgret</code> 实例中。可以直接通过 VM 实例访问这些方法，或者在指令表达式中使用。方法中的 this 自动绑定为 <code>VueEgret</code> 实例。</p> <blockquote><p>注意：<strong>不应该使用箭头函数来定义 <code>method</code> 函数</strong> (例如 <code>plus: () =&gt; this.a++</code>)。理由是箭头函数绑定了父级作用域的上下文，所以 <code>this</code> 将不会按照期望指向 <code>VueEgret</code> 实例，<code>this.a</code> 将是 <code>undefined</code>。</p></blockquote> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">plus</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h3> <ul><li><p>类型：<code>{ [key: string]: string | Function | Object | Array }</code></p></li> <li><p>说明：</p></li></ul> <p>一个对象，键是需要观察的表达式，值是对应回调函数。值也可以是方法名，或者包含选项的对象。<code>VueEgret</code> 实例将会在实例化时调用 <code>$watch()</code>，遍历 <code>watch</code> 对象的每一个 <code>property</code>。</p> <blockquote><p>注意：不应该使用箭头函数来定义 <code>watcher</code> 函数，箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 <code>VueEgret</code> 实例。</p></blockquote> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    c<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    d<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    e<span class="token operator">:</span> <span class="token punctuation">{</span>
      f<span class="token operator">:</span> <span class="token punctuation">{</span>
        g<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'new: %s, old: %s'</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 方法名</span>
    b<span class="token operator">:</span> <span class="token string">'someMethod'</span><span class="token punctuation">,</span>
    <span class="token comment">// 该回调会在任何被侦听的对象的 property 改变时被调用，不论其被嵌套多深</span>
    c<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 该回调将会在侦听开始之后被立即调用</span>
    d<span class="token operator">:</span> <span class="token punctuation">{</span>
      handler<span class="token operator">:</span> <span class="token string">'someMethod'</span><span class="token punctuation">,</span>
      immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 你可以传入回调数组，它们会被逐一调用</span>
    e<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'handle1'</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token function">handle2</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* ... */</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">handle3</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">/* ... */</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// watch vm.e.f's value: {g: 5}</span>
    <span class="token string">'e.f'</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="选项-渲染"><a href="#选项-渲染" class="header-anchor">#</a> 选项 / 渲染</h2> <h3 id="template"><a href="#template" class="header-anchor">#</a> template</h3> <ul><li><p>类型：<code>string</code></p></li> <li><p>说明：</p></li></ul> <p>一个字符串模板作为 <code>VueEgret</code> 实例的标识使用。模板将会替换挂载的显示对象类名(<code>egret</code>下的类可以省略，例如<code>egret.Sprite</code>可直接使用<code>Sprite</code>)。</p> <blockquote><p>注意：如果 <code>VueEgret</code> 选项中包含渲染函数，该模板将被忽略。</p></blockquote> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;Sprite&gt;
        &lt;TextField touchEnabled=&quot;true&quot; textColor=&quot;#00FFFF&quot; x=&quot;100&quot; y=&quot;100&quot;&gt;123&lt;/TextField&gt;
    &lt;/Sprite&gt;</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="render"><a href="#render" class="header-anchor">#</a> render</h3> <ul><li><p>类型：<code>(createVNode:(tag:string, data:any, children:Array&lt;VNode&gt;) =&gt; VNode) =&gt; VNode</code></p></li> <li><p>说明：</p></li></ul> <p>字符串模板的代替方案。该渲染函数接收一个 createVNode 方法作为第一个参数用来创建 VNode。使用<code>render</code>可以减少解析<code>template</code>时花费的时间，减少运行时间。</p> <blockquote><p>注意：<code>VueEgret</code> 选项中的 <code>render</code> 函数若存在，则 <code>VueEgret</code> 构造函数不会从 <code>template</code> 选项编译渲染函数。</p></blockquote> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'Sprite'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
      <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'TextField'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
          textColor<span class="token operator">:</span> <span class="token string">'#00FFFF'</span><span class="token punctuation">,</span>
          x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
          y<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
          text<span class="token operator">:</span> <span class="token string">'xxxxx'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="选项-生命周期钩子"><a href="#选项-生命周期钩子" class="header-anchor">#</a> 选项 / 生命周期钩子</h2> <blockquote><p>注：所有的生命周期钩子自动绑定 this 上下文到实例中，因此你可以直接访问数据，对 <code>property</code> 和方法进行运算。这也意味着你不能使用箭头函数来定义一个生命周期方法，因为箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 <code>VueEgret</code> 实例。</p></blockquote> <h3 id="beforecreate"><a href="#beforecreate" class="header-anchor">#</a> beforeCreate</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>在实例初始化之后，数据观测 <code>(data observer)</code> 和 <code>watcher</code> 事件配置之前被调用。</p> <h3 id="created"><a href="#created" class="header-anchor">#</a> created</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (<code>data observer</code>)，<code>property</code> 和方法的运算，<code>watcher</code> 事件回调。然而，挂载阶段还没开始，$el <code>property</code> 目前尚不可用。</p> <h3 id="beforemounted"><a href="#beforemounted" class="header-anchor">#</a> beforeMounted</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用。</p> <h3 id="mounted"><a href="#mounted" class="header-anchor">#</a> mounted</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>实例被挂载后调用，可以通过 vm.$el 获取绑定的显示对象 。</p> <p>注意 <code>mounted</code> 不会保证所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以在 <code>mounted</code> 内部使用 vm.$nextTick：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Code that will run only after the</span>
    <span class="token comment">// entire view has been rendered</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="beforeupdate"><a href="#beforeupdate" class="header-anchor">#</a> beforeUpdate</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>数据更新时调用，发生在虚拟节点进行打补丁之前。</p> <h3 id="update"><a href="#update" class="header-anchor">#</a> update</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>由于数据更改导致的虚拟节点重新渲染和打补丁，在这之后会调用该方法。</p> <p>当这个钩子被调用时，组件显示对象已经更新，所以你现在可以执行依赖于显示对象的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用<code>计算属性</code>或 <code>watcher</code> 取而代之。</p> <p>注意 updated 不会保证所有的子组件也都一起被重绘。如果你希望等到整个视图都重绘完毕，可以在 updated 里使用 vm.$nextTick：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">updated</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Code that will run only after the</span>
    <span class="token comment">// entire view has been re-rendered</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="beforedestroy"><a href="#beforedestroy" class="header-anchor">#</a> beforeDestroy</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>实例销毁之前调用。在这一步，实例仍然完全可用。</p> <h3 id="destroyed"><a href="#destroyed" class="header-anchor">#</a> destroyed</h3> <ul><li><p>类型：<code>Function</code></p></li> <li><p>说明：</p></li></ul> <p>实例销毁后调用。该钩子被调用后，对应 <code>VueEgret</code> 实例的所有指令都被解绑，所有的事件监听器被移除，所有的子实例也都被销毁。</p> <h2 id="选项-资源"><a href="#选项-资源" class="header-anchor">#</a> 选项 / 资源</h2> <h3 id="components"><a href="#components" class="header-anchor">#</a> components</h3> <ul><li><p>类型：<code>Object</code></p></li> <li><p>说明：</p></li></ul> <p>包含 <code>VueEgret</code> 实例可用组件的哈希表。</p> <h2 id="实例-property"><a href="#实例-property" class="header-anchor">#</a> 实例 property</h2> <h3 id="vm-data"><a href="#vm-data" class="header-anchor">#</a> vm.$data</h3> <ul><li><p>类型：<code>Object</code></p></li> <li><p>说明：</p></li></ul> <p><code>VueEgret</code> 实例观察的数据对象。<code>VueEgret</code> 实例代理了对其 <code>data</code> 对象 <code>property</code> 的访问。</p> <h3 id="vm-props"><a href="#vm-props" class="header-anchor">#</a> vm.$props</h3> <ul><li><p>类型：<code>Object</code></p></li> <li><p>说明：</p></li></ul> <p>当前组件接收到的 <code>props</code> 对象。<code>VueEgret</code> 实例代理了对其 <code>props</code> 对象 <code>property</code> 的访问。</p> <h3 id="vm-el"><a href="#vm-el" class="header-anchor">#</a> vm.$el</h3> <ul><li><p>类型：<code>DisplayObject</code></p></li> <li><p>说明：</p></li></ul> <p><code>VueEgret</code> 实例使用的显示对象。</p> <h3 id="vm-options"><a href="#vm-options" class="header-anchor">#</a> vm.$options</h3> <ul><li><p>类型：<code>Object</code></p></li> <li><p>说明：</p></li></ul> <p>用于当前 <code>VueEgret</code> 实例的初始化选项。需要在选项中包含自定义 <code>property</code> 时会有用处：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueEgret</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  customOption<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>customOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-parent"><a href="#vm-parent" class="header-anchor">#</a> vm.$parent</h3> <ul><li><p>类型：<code>Component</code></p></li> <li><p>说明：</p></li></ul> <p>父实例，如果当前实例有的话。</p> <h3 id="vm-root"><a href="#vm-root" class="header-anchor">#</a> vm.$root</h3> <ul><li><p>类型：<code>Component</code></p></li> <li><p>说明：</p></li></ul> <p>当前组件树的根 <code>VueEgret</code> 实例。如果当前实例没有父实例，此实例将会是其自己。</p> <h3 id="vm-children"><a href="#vm-children" class="header-anchor">#</a> vm.$children</h3> <ul><li><p>类型：<code>Array&lt;Component&gt;</code></p></li> <li><p>说明：</p></li></ul> <p>当前实例的直接子组件。需要注意 <code>$children</code> 并不保证顺序，也不是响应式的。如果你发现自己正在尝试使用 <code>$children</code> 来进行数据绑定，考虑使用一个数组配合 <code>v-for</code> 来生成子组件，并且使用 Array 作为真正的来源。</p> <h3 id="vm-refs"><a href="#vm-refs" class="header-anchor">#</a> vm.$refs</h3> <ul><li><p>类型：<code>{ [key: string]: string }</code></p></li> <li><p>说明：</p></li></ul> <p>一个对象，持有注册过 <code>ref attribute</code> 的所有显示对象和组件实例。</p> <h3 id="vm-attrs"><a href="#vm-attrs" class="header-anchor">#</a> vm.$attrs</h3> <ul><li><p>类型：<code>{ [key: string]: string }</code></p></li> <li><p>说明：</p></li></ul> <p>一个对象，持有注册过 <code>ref attribute</code> 的所有显示对象和组件实例。</p> <h3 id="vm-listeners"><a href="#vm-listeners" class="header-anchor">#</a> vm.$listeners</h3> <ul><li><p>类型：<code>{ [key: string]: Function | Array&lt;Function&gt; }</code></p></li> <li><p>说明：</p></li></ul> <p>包含了父作用域中的 (不含 <code>.native</code> 修饰器的) v-on 事件监听器。它可以通过 v-on=&quot;$listeners&quot; 传入内部组件——在创建更高层次的组件时非常有用。</p> <h3 id="vm-stage"><a href="#vm-stage" class="header-anchor">#</a> vm.$stage</h3> <ul><li><p>类型：<code>{ egret.Stage }</code></p></li> <li><p>说明：</p></li></ul> <p>获取舞台对象，详细看<a href="http://developer.egret.com/cn/apidoc/index/name/egret.Stage" target="_blank" rel="noopener noreferrer"><code>egret.Stage</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="vm-stagewidth"><a href="#vm-stagewidth" class="header-anchor">#</a> vm.$stageWidth</h3> <ul><li><p>类型：<code>{ number }</code></p></li> <li><p>说明：</p></li></ul> <p>获取舞台的当前宽度，详细看<a href="http://developer.egret.com/cn/apidoc/index/name/egret.Stage#stageWidth" target="_blank" rel="noopener noreferrer"><code>egret.Stage</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="vm-stageheight"><a href="#vm-stageheight" class="header-anchor">#</a> vm.$stageHeight</h3> <ul><li><p>类型：<code>{ number }</code></p></li> <li><p>说明：</p></li></ul> <p>获取舞台的当前高度，详细看<a href="http://developer.egret.com/cn/apidoc/index/name/egret.Stage#stageHeight" target="_blank" rel="noopener noreferrer"><code>egret.Stage</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="实例方法-数据"><a href="#实例方法-数据" class="header-anchor">#</a> 实例方法 / 数据</h2> <h3 id="vm-watch"><a href="#vm-watch" class="header-anchor">#</a> vm.$watch</h3> <ul><li><p>参数：</p> <ul><li><code>{ string | Function } expOrFn</code></li> <li><code>{ Function | Object } callback</code></li> <li><code>{ Object } [options]</code></li></ul></li> <li><p>返回值：<code>{ Function } unwatch</code></p></li> <li><p>说明：</p></li></ul> <p>观察 <code>VueEgret</code> 实例上的一个表达式或者一个函数计算结果的变化。回调函数得到的参数为新值和旧值。表达式只接受简单的键路径。对于更复杂的表达式，用一个函数取代。</p> <blockquote><p>注意：在变更 (不是替换) 对象或数组时，旧值将与新值相同，因为它们的引用指向同一个对象/数组。<code>VueEgret</code> 不会保留变更之前值的副本。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 键路径</span>
vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'a.b.c'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 做点什么</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 函数</span>
vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 表达式 `this.a + this.b` 每次得出一个不同的结果时</span>
    <span class="token comment">// 处理函数都会被调用。</span>
    <span class="token comment">// 这就像监听一个未被定义的计算属性</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 做点什么</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>vm.$watch</code> 返回一个取消观察函数，用来停止触发回调：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> unwatch <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 之后取消观察</span>
<span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>选项：deep</li></ul> <p>为了发现对象内部值的变化，可以在选项参数中指定 <code>deep: true</code>。注意监听数组的变更不需要这么做。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'someObject'</span><span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span>someObject<span class="token punctuation">.</span>nestedValue <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token comment">// callback is fired</span>
</code></pre></div><ul><li>选项：immediate</li></ul> <p>在选项参数中指定 <code>immediate: true</code> 将立即以表达式的当前值触发回调：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 立即以 `a` 的当前值触发回调</span>
</code></pre></div><p>注意在带有 <code>immediate</code> 选项时，你不能在第一次回调时取消侦听给定的 property。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 这会导致报错</span>
<span class="token keyword">var</span> unwatch <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
  <span class="token string">'value'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> immediate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你仍然希望在回调内部调用一个取消侦听的函数，你应该先检查其函数的可用性：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> unwatch <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
  <span class="token string">'value'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>unwatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> immediate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-set"><a href="#vm-set" class="header-anchor">#</a> vm.$set</h3> <p>这是全局 <code>VueEgret.set</code> 的别名。</p> <ul><li><p>参数：</p> <ul><li><code>{ Object | Array } target</code></li> <li><code>{ string | number } propertyName/index</code></li> <li><code>{ any } value</code></li></ul></li> <li><p>返回：</p> <ul><li><code>{ any } value</code> 设置的值</li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>myObject<span class="token punctuation">,</span> <span class="token string">'newProperty'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-delete"><a href="#vm-delete" class="header-anchor">#</a> vm.$delete</h3> <p>这是全局 <code>VueEgret.delete</code> 的别名。</p> <ul><li><p>参数：</p> <ul><li><code>{ Object | Array } target</code></li> <li><code>{ string | number } propertyName/index</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span>$<span class="token keyword">delete</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>myObject<span class="token punctuation">,</span> <span class="token string">'oldProperty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="实例方法-事件"><a href="#实例方法-事件" class="header-anchor">#</a> 实例方法 / 事件</h2> <h3 id="vm-on"><a href="#vm-on" class="header-anchor">#</a> vm.$on</h3> <p>监听当前实例上的自定义事件。事件可以由 <code>vm.$emit</code> 触发。回调函数会接收所有传入事件触发函数的额外参数。</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;hi&quot;</span>
</code></pre></div><h3 id="vm-once"><a href="#vm-once" class="header-anchor">#</a> vm.$once</h3> <p>监听一个自定义事件，但是只触发一次。一旦触发之后，监听器就会被移除。</p> <ul><li><p>参数：</p> <ul><li><code>{ string } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;hi&quot;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 不响应</span>
</code></pre></div><h3 id="vm-off"><a href="#vm-off" class="header-anchor">#</a> vm.$off</h3> <p>移除自定义事件监听器。</p> <ol><li><p>如果没有提供参数，则移除所有的事件监听器；</p></li> <li><p>如果只提供了事件，则移除该事件所有的监听器；</p></li> <li><p>如果同时提供了事件与回调，则只移除这个回调的监听器。</p></li></ol> <ul><li><p>参数：</p> <ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;hi&quot;</span>
vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 不响应</span>
</code></pre></div><h3 id="vm-emit"><a href="#vm-emit" class="header-anchor">#</a> vm.$emit</h3> <p>触发当前实例上的事件。附加参数都会传给监听器回调。</p> <ul><li><p>参数：</p> <ul><li><code>{ string } eventName</code></li> <li><code>[...args]</code></li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token string">'hi2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 多个参数</span>
</code></pre></div><h2 id="实例方法-生命周期"><a href="#实例方法-生命周期" class="header-anchor">#</a> 实例方法 / 生命周期</h2> <h3 id="vm-mount"><a href="#vm-mount" class="header-anchor">#</a> vm.$mount</h3> <p><code>VueEgret</code> 实例化后是处于“未挂载”状态，需要使用 vm.$mount() 手动地挂载一个未挂载的实例。</p> <p>这个方法返回实例自身，因而可以链式调用其它实例方法。</p> <ul><li><p>参数：</p> <ul><li><code>{ egret.DisplayObjectContainer } parent</code> 挂载对象</li></ul></li> <li><p>返回：</p> <ul><li><code>{ Component }</code> vm 实例自身</li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> MyComponent <span class="token operator">=</span> VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;TextField textColor=&quot;#00FFFF&quot; x=&quot;11&quot; y=&quot;12&quot;&gt;test&lt;/TextField&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> container <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">egret<span class="token punctuation">.</span>DisplayObjectContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建并挂载到 container</span>
<span class="token keyword">new</span> <span class="token class-name">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者</span>
<span class="token keyword">var</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-forceupdate"><a href="#vm-forceupdate" class="header-anchor">#</a> vm.$forceUpdate</h3> <p>迫使 <code>VueEgret</code> 实例重新渲染。注意它仅仅影响实例本身和插入插槽内容的子组件，而不是所有子组件。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-nexttick"><a href="#vm-nexttick" class="header-anchor">#</a> vm.$nextTick</h3> <p>将回调延迟到下次 <code>Node</code> 更新循环之后执行。在修改数据之后立即使用它，然后等待 <code>Node</code> 更新。</p> <ul><li><p>参数：</p> <ul><li><code>{ Function } callback</code></li></ul></li> <li><p>返回: <code>{ Promise }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

vm<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>如果没有提供回调且在支持 Promise 的环境中，则返回一个 Promise。</p></blockquote> <h3 id="vm-destroy"><a href="#vm-destroy" class="header-anchor">#</a> vm.$destroy()</h3> <p>完全销毁一个实例。清理它与其它实例的连接，解绑它的全部指令及事件监听器。</p> <p>触发 <code>beforeDestroy</code> 和 <code>destroyed</code> 的钩子。</p> <ul><li>用法：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>在大多数场景中你不应该调用这个方法。最好使用 <code>v-if</code> 和 <code>v-for</code> 指令以数据驱动的方式控制子组件的生命周期。</p></blockquote> <h2 id="实例方法-功能"><a href="#实例方法-功能" class="header-anchor">#</a> 实例方法/功能</h2> <h3 id="vm-tween"><a href="#vm-tween" class="header-anchor">#</a> vm.$tween</h3> <p>Tween 缓动动画，详细见<a href="http://developer.egret.com/cn/apidoc/index/name/egret.Tween" target="_blank" rel="noopener noreferrer"><code>egret.Tween</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，返回一个 <code>Promise</code></p> <ul><li><p>参数：</p> <ul><li><code>{ Array&lt;TweenData&gt; } params</code> 运动参数</li> <li><code>{ Component | egret.DisplayObject } target</code> 运动对象，默认是实例本身</li> <li><code>{ Object } props</code> 参数，支持loop(循环播放) onChange(变化函数) onChangeObj(变化函数作用域)</li></ul></li> <li><p>返回: <code>{ Promise&lt;egret.Tween&gt; }</code></p></li> <li><p>用法：</p></li></ul> <p>TweenData 主要有<code>set</code>，<code>to</code>，<code>wait</code>三种动作：</p> <ul><li>set：将指定对象的属性修改为指定的值，详细见<a href="http://developer.egret.com/cn/apidoc/index/name/egret.tween.Set" target="_blank" rel="noopener noreferrer"><code>egret.tween.Set</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>to: 根据时间，缓动的将指定对象的属性修改为指定值，详细见<a href="http://developer.egret.com/cn/apidoc/index/name/egret.tween.To" target="_blank" rel="noopener noreferrer"><code>egret.tween.To</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>wait: 等待指定毫秒后执行下一个动画，详细见<a href="http://developer.egret.com/cn/apidoc/index/name/egret.tween.Wait" target="_blank" rel="noopener noreferrer"><code>egret.tween.Wait</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$tween</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'set'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'to'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> egret<span class="token punctuation">.</span>Ease<span class="token punctuation">.</span>quadOut<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'wait'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 动作执行完成</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-displayobject"><a href="#vm-displayobject" class="header-anchor">#</a> vm.$displayObject</h3> <p>根据传入的值获取实际的显示对象，如果传入的是个字符串，则会做为 ref 获取组件的显示对象，如果的是一个组件实例，这获取该实例的显示对象，如果传入是显示对象，则返回显示对象本身，否则返回 null</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Component | egret.DisplayObject } ref1</code> 显示对象</li> <li><code>{ boolean } isAll</code> 如果设置为 true 时，返回$refs 引用的所有显示对象数组，否则返回第一个显示对象</li></ul></li> <li><p>返回: <code>{ egret.DisplayObject | Array&lt;egret.DisplayObject&gt; }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$displayObject</span><span class="token punctuation">(</span><span class="token string">'refName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// vm.$refs[refName] |  vm.$refs[refName][0]</span>
vm<span class="token punctuation">.</span><span class="token function">$displayObject</span><span class="token punctuation">(</span><span class="token string">'refName'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// vm.$refs[refName]</span>

<span class="token comment">/* 传入Component */</span>
vm<span class="token punctuation">.</span><span class="token function">$displayObject</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// vm.$el</span>
</code></pre></div><h3 id="vm-hittest"><a href="#vm-hittest" class="header-anchor">#</a> vm.$hitTest</h3> <p>用于检测两个显示对象间是否存在碰撞，这里不做精确碰撞像素检测，只是根据显示对象的测量边界进行检测判断。</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Component | egret.DisplayObject } ref1</code> 显示对象 1</li> <li><code>{ string | Component | egret.DisplayObject } ref2</code> 显示对象 2</li></ul></li> <li><p>返回: <code>{ boolean }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTest</span><span class="token punctuation">(</span><span class="token string">'refName1'</span><span class="token punctuation">,</span> <span class="token string">'refName2'</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入Component */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTest</span><span class="token punctuation">(</span>VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'refName2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入DisplayObject */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTest</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">'refName1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-hittestpiont"><a href="#vm-hittestpiont" class="header-anchor">#</a> vm.$hitTestPiont</h3> <p>计算显示对象，以确定它是否与 x 和 y 参数指定的点重叠或相交。x 和 y 参数指定舞台的坐标空间中的点，而不是包含显示对象的显示对象容器中的点（除非显示对象容器是舞台）。注意，不要在大量物体中使用精确碰撞像素检测，这回带来巨大的性能开销</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Component | egret.DisplayObject } ref</code> 显示对象</li> <li><code>{ number } x</code> 测试坐标 x</li> <li><code>{ number } y</code> 测试坐标 y</li> <li><code>{ boolean } shapeFlag</code> 检查对象 (true) 的实际像素，还是检查边框 (false) 的实际像素。</li></ul></li> <li><p>返回: <code>{ boolean }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTestPiont</span><span class="token punctuation">(</span><span class="token string">'refName'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入Component */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTestPiont</span><span class="token punctuation">(</span>
  VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入DisplayObject */</span>
vm<span class="token punctuation">.</span><span class="token function">$hitTestPiont</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-globaltolocal"><a href="#vm-globaltolocal" class="header-anchor">#</a> vm.$globalToLocal</h3> <p>将从舞台（全局）坐标转换为显示对象的（本地）坐标。</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Component | egret.DisplayObject } ref</code> 显示对象</li> <li><code>{ number } stateX</code> 舞台坐标 x</li> <li><code>{ number } stateY</code> 舞台坐标 y</li></ul></li> <li><p>返回: <code>{ egret.Point }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$globalToLocal</span><span class="token punctuation">(</span><span class="token string">'refName'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入Component */</span>
vm<span class="token punctuation">.</span><span class="token function">$globalToLocal</span><span class="token punctuation">(</span>
  VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入DisplayObject */</span>
vm<span class="token punctuation">.</span><span class="token function">$globalToLocal</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vm-localtoglobal"><a href="#vm-localtoglobal" class="header-anchor">#</a> vm.$localToGlobal</h3> <p>将从舞台（全局）坐标转换为显示对象的（本地）坐标。</p> <ul><li><p>参数：</p> <ul><li><code>{ string | Component | egret.DisplayObject } ref</code> 显示对象</li> <li><code>{ number } localY</code> 本地坐标 x</li> <li><code>{ number } localY</code> 本地坐标 y</li></ul></li> <li><p>返回: <code>{ egret.Point }</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 传入ref name */</span>
vm<span class="token punctuation">.</span><span class="token function">$localToGlobal</span><span class="token punctuation">(</span><span class="token string">'refName'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入Component */</span>
vm<span class="token punctuation">.</span><span class="token function">$localToGlobal</span><span class="token punctuation">(</span>
  VueEgret<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 传入DisplayObject */</span>
vm<span class="token punctuation">.</span><span class="token function">$localToGlobal</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="指令"><a href="#指令" class="header-anchor">#</a> 指令</h2> <h3 id="v-if"><a href="#v-if" class="header-anchor">#</a> v-if</h3> <p>根据表达式的值的 <code>truthy</code> 来有条件地渲染元素。在切换时元素及它的数据绑定 / 组件被销毁并重建。</p> <ul><li><p>预期：<code>any</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;val &lt; 5&quot;</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>当和 v-if 一起使用时，v-for 的优先级比 v-if 更高。</p></blockquote> <h3 id="v-else"><a href="#v-else" class="header-anchor">#</a> v-else</h3> <p>为 <code>v-if</code> 或者 <code>v-else-if</code> 添加“else 块”。</p> <ul><li><p>预期：不需要表达式，但前一兄弟元素必须有 <code>v-if</code> 或 <code>v-else-if</code>。</p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;val &lt; 5&quot;</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
</code></pre></div><h3 id="v-else-if"><a href="#v-else-if" class="header-anchor">#</a> v-else-if</h3> <p>表示 <code>v-if</code> 的“else if 块”。可以链式调用。</p> <ul><li><p>预期：<code>any</code>，前一兄弟元素必须有 v-if 或 v-else-if。</p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;val &lt; 5&quot;</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;val &lt; 10&quot;</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
</code></pre></div><h3 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h3> <p>基于源数据多次渲染元素或模板块。此指令之值，必须使用特定语法 alias in expression，为当前遍历的元素提供别名。</p> <ul><li><p>预期：<code>Array | Object | number | string | Iterable</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in items&quot;</span> <span class="token operator">:</span>y<span class="token operator">=</span><span class="token string">&quot;item*20&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
</code></pre></div><p>另外也可以为数组索引指定别名 (或者用于对象的键)：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in items&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(val, key) in object&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(val, name, index) in object&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
</code></pre></div><p><code>v-for</code> 的默认行为会尝试原地修改元素而不是移动它们。要强制其重新排序元素，你需要用特殊 <code>attribute key</code> 来提供一个排序提示：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in items&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>当和 v-if 一起使用时，v-for 的优先级比 v-if 更高。</p></blockquote> <h3 id="v-bind"><a href="#v-bind" class="header-anchor">#</a> v-bind</h3> <p>动态地绑定一个或多个 <code>attribute</code>，或一个组件 <code>prop</code> 到表达式。</p> <p>在绑定 <code>prop</code> 时，<code>prop</code> 必须在子组件中声明。可以用修饰符指定不同的绑定类型。</p> <p>没有参数时，可以绑定到一个包含键值对的对象。</p> <ul><li><p>缩写：<code>:</code></p></li> <li><p>预期：<code>any (with argument) | Object (without argument)</code></p></li> <li><p>参数：<code>attrOrProp (optional)</code></p></li> <li><p>修饰符：</p> <ul><li><code>.sync</code> - 同步语法糖，会扩展成一个更新父组件绑定值的 <code>v-on</code> 侦听器。</li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 绑定一个 attribute <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField <span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">&quot;text&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 动态 attribute 名 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;value&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 内联字符串拼接 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField <span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">&quot;'test:' + text&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 绑定一个全是 attribute 的对象 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;{ text: text }&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 通过 $attrs 将父组件的 attrs 一起传给子组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>child<span class="token operator">-</span>component v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;$attrs&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>child<span class="token operator">-</span>component<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 通过 <span class="token punctuation">.</span>sync 修饰符 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>TextField v<span class="token operator">-</span>bind<span class="token operator">:</span>text<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">&quot;text&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TextField<span class="token operator">&gt;</span>
<span class="token comment">// =&gt; &lt;TextField v-bind:text=&quot;text&quot; @update:text=&quot;$event =&gt; text = $event;&quot;&gt;&lt;/TextField&gt;</span>
</code></pre></div><h3 id="v-on"><a href="#v-on" class="header-anchor">#</a> v-on</h3> <p>绑定事件监听器。事件类型由参数指定。表达式可以是一个方法的名字或一个内联语句，如果没有修饰符也可以省略。</p> <p>用在普通显示对象上时，只能监听原生事件。用在自定义元素组件上时，也可以监听子组件触发的自定义事件。</p> <p>在监听原生事件时，方法以事件为唯一的参数。如果使用内联语句，语句可以访问一个 <code>$event property：v-on:click=&quot;handle('ok', $event)&quot;</code>。</p> <ul><li><p>缩写：<code>@</code></p></li> <li><p>预期：<code>Function | Inline Statement | Object</code></p></li> <li><p>参数：<code>event</code></p></li> <li><p>修饰符：</p> <ul><li><code>.stop</code> - 调用 event.stopPropagation()。</li> <li><code>.prevent</code> - 调用 event.preventDefault()。</li> <li><code>.capture</code> - 添加事件侦听器时使用 capture 模式。</li> <li><code>.self</code> - 只当事件是从侦听器绑定的元素本身触发时才触发回调。</li> <li><code>.native</code> - 监听组件根元素的原生事件。</li> <li><code>.once</code> - 只触发一次回调。</li></ul></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 方法处理器 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span>on<span class="token operator">:</span>touchTap<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 动态事件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span>on<span class="token operator">:</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 内联语句 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span>on<span class="token operator">:</span>touchTap<span class="token operator">=</span><span class="token string">&quot;doThat('hello', $event)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 缩写 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @touchTap<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 动态事件缩写 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @<span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 停止冒泡 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @touchTap<span class="token punctuation">.</span>stop<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 阻止默认行为 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @touchTap<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 阻止默认行为，没有表达式 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @touchTap<span class="token punctuation">.</span>prevent<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>  串联修饰符 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite @touchTap<span class="token punctuation">.</span>stop<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 点击回调只会触发一次 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span>on<span class="token operator">:</span>touchTap<span class="token punctuation">.</span>once<span class="token operator">=</span><span class="token string">&quot;doThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 对象语法 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;{ touchBegin: doThis, touchEnd: doThat }&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
</code></pre></div><p>在子组件上监听自定义事件 (当子组件触发“my-event”时将调用事件处理器)：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>my<span class="token operator">-</span>component @my<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">&quot;handleThis&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>my<span class="token operator">-</span>component<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 内联语句 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>my<span class="token operator">-</span>component @my<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">&quot;handleThis(123, $event)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>my<span class="token operator">-</span>component<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 组件中的原生事件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>my<span class="token operator">-</span>component @touchTap<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">&quot;onTouchTap&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>my<span class="token operator">-</span>component<span class="token operator">&gt;</span>
</code></pre></div><h2 id="特殊-attribute"><a href="#特殊-attribute" class="header-anchor">#</a> 特殊 attribute</h2> <h3 id="key"><a href="#key" class="header-anchor">#</a> key</h3> <p><code>key</code> 的特殊 attribute 主要用在 VueEgret 的虚拟节点 算法，在新旧 nodes 对比时辨识 VNodes。如果不使用 key，VueEgret 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法。而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。</p> <p>有相同父元素的子元素必须有<strong>独特的 key</strong>。重复的 key 会造成渲染错误。</p> <ul><li><p>预期：<code>number | string | symbol</code></p></li> <li><p>用法：</p></li></ul> <p>最常见的用例是结合 v-for：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Sprite v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in items&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>
</code></pre></div><p>它也可以用于强制替换元素/组件而不是重复使用它。</p> <h3 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h3> <p>ref 被用来给显示对象或子组件注册引用信息。引用信息将会注册在父组件的 <code>$refs</code> 对象上。如果在普通的 DisplayObject 对象上使用，引用指向的就是 DisplayObject 对象；如果用在子组件上，引用就指向组件实例：</p> <ul><li><p>预期：<code>string</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">vm.$refs.sp</span><span class="token template-punctuation string">`</span></span> will be the DisplayObject node <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Sprite ref<span class="token operator">=</span><span class="token string">&quot;sp&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sprite<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">vm.$refs.child</span><span class="token template-punctuation string">`</span></span> will be the child component instance <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>child<span class="token operator">-</span>component ref<span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>child<span class="token operator">-</span>component<span class="token operator">&gt;</span>
</code></pre></div><p>当 <code>v-for</code> 用于元素或组件的时候，引用信息将是包含 DisplayObject 对象或组件实例的数组。</p> <blockquote><p>关于 ref 注册时间的重要说明：因为 ref 本身是作为渲染结果被创建的，在初始渲染的时候你不能访问它们 - 它们还不存在！<code>$refs</code> 也不是响应式的，因此你不应该试图用它在模板中做数据绑定。</p></blockquote> <h3 id="is"><a href="#is" class="header-anchor">#</a> is</h3> <p>用于动态组件。</p> <ul><li><p>预期：<code>string</code></p></li> <li><p>用法：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 当 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">currentView</span><span class="token template-punctuation string">`</span></span> 改变时，组件也跟着改变 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>component v<span class="token operator">-</span>bind<span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;currentView&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
</code></pre></div><h2 id="内置的组件"><a href="#内置的组件" class="header-anchor">#</a> 内置的组件</h2> <h3 id="component"><a href="#component" class="header-anchor">#</a> component</h3> <ul><li><p>Props：</p> <ul><li>is - string</li></ul></li> <li><p>用法：</p></li></ul> <p>渲染一个“元组件”为动态组件。依 is 的值，来决定哪个组件被渲染。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 动态组件由 vm 实例的 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">componentId</span><span class="token template-punctuation string">`</span></span> property 控制 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;componentId&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hsuna/vue-egret/edit/master/docs/api/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vue-egret/assets/js/app.755a3615.js" defer></script><script src="/vue-egret/assets/js/2.3e60407d.js" defer></script><script src="/vue-egret/assets/js/11.87e61404.js" defer></script>
  </body>
</html>
